// Code based on the original code by mr. doob:
// stats.js - http://github.com/mrdoob/stats.js

var Score=function(){
    
    function h(a){
        c.appendChild(a.dom);
        return a
    }
    
    function k(a){
        for(var d=0; d<c.children.length; d++)
            c.children[d].style.display= d === a ? "block":"none";
        l=a
    }
    
    var l = 0;
    var c = document.createElement("div");

    c.style.cssText = "position:fixed; top:0; right:0; opacity:1; z-index:10000";
    
    var g=(performance||Date).now(), e=g, a=0;
    var r = h(new Score.Panel("Score:","white","black"));
    
    k(0);

    return{
        dom:c,
        update:function(score){
            r.update(score);
        },
        domElement:c,
    }
};

Score.Panel=function(h,k,l){
    const width = 200;
    const height = 50;
    const fontSize = 20;

    var c = Infinity;
    var g = 0;
    var e = Math.round;
    var a = e(window.devicePixelRatio || 1);
    var r=width*a;
    var f=height*a;
    var t=10*a;
    var u=25*a;
    q = document.createElement("canvas");
    q.width = r;
    q.height = f;
    q.style.cssText="width:" + width + "px;height:" + height + "px";
    var b = q.getContext("2d");
    b.font="bold "+fontSize*a+"px Helvetica,Arial,sans-serif";
    b.textBaseline="middle";
    b.textAlign = "left";
    b.fillStyle=l;
    b.fillRect(0,0,r,f);
    b.fillStyle=k;
    b.fillText(h,t,u);
    b.fillText(0,t + 150,u);
    b.globalAlpha=.5;
    return { 
        dom:q,
        update:function(score){
            c = Math.min(c,f);
            g = Math.max(g,f);
            b.fillStyle=l;
            b.globalAlpha=1;
            b.fillRect(0,0,r,f);
            b.fillStyle=k;
            b.fillText(h,t,u);
            b.fillText(score,t+150,u);
            b.globalAlpha=.5;
        }
    }
};

"object"===typeof module && (module.exports=Score);
